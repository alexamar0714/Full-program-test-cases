<?xml version="1.0" encoding="UTF-8"?>
<library xmlns="urn:hl7-org:elm:r1" xmlns:t="urn:hl7-org:elm-types:r1" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:fhir="http://hl7.org/fhir" xmlns:a="urn:hl7-org:cql-annotations:r1">
    <identifier id="zika-virus-intervention-logic" version="1.0.1"/>
    <schemaIdentifier id="urn:hl7-org:elm" version="r1"/>
    <usings>
        <def localIdentifier="System" uri="urn:hl7-org:elm-types:r1"/>
        <def localId="1" localIdentifier="FHIR" uri="http://hl7.org/fhir" version="3.0.0"/>
    </usings>
    <parameters>
        <def localId="29" name="Current Encounter" accessLevel="Public">
            <parameterTypeSpecifier localId="28" name="fhir:Encounter" xsi:type="NamedTypeSpecifier"/>
        </def>
    </parameters>
    <codeSystems>
        <def localId="2" name="Example Questionnaires" id="http://example.org/questionnaires" accessLevel="Public"/>
    </codeSystems>
    <valueSets>
        <def localId="3" name="Pregnancy" id="X.Y.Z" accessLevel="Public"/>
        <def localId="4" name="Zika Affected Areas" id="2.16.840.1.114222.4.11.7457" accessLevel="Public"/>
        <def localId="5" name="Zika Virus Signs and Symptoms" id="2.16.840.1.114222.4.11.7459" accessLevel="Public"/>
        <def localId="6" name="General Arbovirus Signs and Symptoms" id="2.16.840.1.114222.4.11.7460" accessLevel="Public"/>
        <def localId="7" name="Zika Virus Tests" id="2.16.840.1.114222.4.11.7480" accessLevel="Public"/>
        <def localId="8" name="Arbovirus Tests" id="2.16.840.1.114222.4.11.4120" accessLevel="Public"/>
        <def localId="9" name="Chikungunya Tests" id="2.16.840.1.114222.4.11.7339" accessLevel="Public"/>
        <def localId="10" name="Dengue Tests" id="2.16.840.1.114222.4.11.4141" accessLevel="Public"/>
        <def localId="11" name="Zika Virus IgM ELISA Results" id="2.16.840.1.114222.4.11.7476" accessLevel="Public"/>
        <def localId="12" name="Zika Virus Neutralizing Antibody Results" id="2.16.840.1.114222.4.11.7477" accessLevel="Public"/>
        <def localId="13" name="Arbovirus Test Results" id="2.16.840.1.114222.4.11.4003" accessLevel="Public"/>
        <def localId="14" name="Chikungunya Test Results" id="2.16.840.1.114222.4.11.7343" accessLevel="Public"/>
        <def localId="15" name="Dengue Test Results" id="2.16.840.1.114222.4.11.4025" accessLevel="Public"/>
    </valueSets>
    <codes>
        <def localId="17" name="CDE: Resident of or Frequent Traveler to Zika Area" id="CDE: Resident of or Frequent Traveler to Zika Area" accessLevel="Public">
            <codeSystem localId="16" name="Example Questionnaires"/>
        </def>
        <def localId="19" name="CDE: Recent Travel to Zika Area" id="CDE: Recent Travel to Zika Area" accessLevel="Public">
            <codeSystem localId="18" name="Example Questionnaires"/>
        </def>
        <def localId="21" name="CDE: Time Since Returned From Travel" id="CDE: Time Since Returned From Travel" accessLevel="Public">
            <codeSystem localId="20" name="Example Questionnaires"/>
        </def>
        <def localId="23" name="CDE: Recent Sexual Encounter With Traveler to Zika Area" id="CDE: Recent Sexual Encounter With Traveler to Zika Area" accessLevel="Public">
            <codeSystem localId="22" name="Example Questionnaires"/>
        </def>
        <def localId="25" name="CDE: Time Since Sexual Encounter" id="CDE: Time Since Sexual Encounter" accessLevel="Public">
            <codeSystem localId="24" name="Example Questionnaires"/>
        </def>
        <def localId="27" name="CDE: Planned Travel to Zika Area" id="CDE: Planned Travel to Zika Area" accessLevel="Public">
            <codeSystem localId="26" name="Example Questionnaires"/>
        </def>
    </codes>
    <statements>
        <def name="Patient" context="Patient">
            <expression xsi:type="SingletonFrom">
                <operand dataType="fhir:Patient" xsi:type="Retrieve"/>
            </expression>
        </def>
        <def localId="56" name="Pregnancy Conditions" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="56">
                    <a:s>define &quot;Pregnancy Conditions&quot;:
                    </a:s>
                    <a:s r="55">
                        <a:s>
                            <a:s r="31">
                                <a:s r="30">
                                    <a:s r="30">
                                        <a:s>[Condition: </a:s>
                                        <a:s>
                                            <a:s>&quot;Pregnancy&quot;</a:s>
                                        </a:s>
                                        <a:s>]</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> C</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="54">
                            <a:s>where </a:s>
                            <a:s r="54">
                                <a:s r="48">
                                    <a:s r="42">
                                        <a:s r="36">
                                            <a:s r="34">
                                                <a:s r="33">
                                                    <a:s r="32">
                                                        <a:s>C</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="33">
                                                        <a:s>clinicalStatus</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="34">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> = </a:s>
                                            <a:s r="35">
                                                <a:s>'active'</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            and </a:s>
                                        <a:s r="41">
                                            <a:s r="39">
                                                <a:s r="38">
                                                    <a:s r="37">
                                                        <a:s>C</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="38">
                                                        <a:s>verificationStatus</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="39">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> = </a:s>
                                            <a:s r="40">
                                                <a:s>'confirmed'</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>
                                        and </a:s>
                                    <a:s r="47">
                                        <a:s r="45">
                                            <a:s r="44">
                                                <a:s r="43">
                                                    <a:s>C</a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="44">
                                                    <a:s>onset</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="45">
                                                <a:s>value</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> &lt;= </a:s>
                                        <a:s r="46">
                                            <a:s>Today()</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    and </a:s>
                                <a:s r="53">
                                    <a:s r="51">
                                        <a:s r="50">
                                            <a:s r="49">
                                                <a:s>C</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="50">
                                                <a:s>abatement</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="51">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> > </a:s>
                                    <a:s r="52">
                                        <a:s>Today()</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="55" xsi:type="Query">
                <source localId="31" alias="C">
                    <expression localId="30" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                        <codes name="Pregnancy" xsi:type="ValueSetRef"/>
                    </expression>
                </source>
                <where localId="54" xsi:type="And">
                    <operand localId="48" xsi:type="And">
                        <operand localId="42" xsi:type="And">
                            <operand localId="36" xsi:type="Equal">
                                <operand localId="34" path="value" xsi:type="Property">
                                    <source localId="33" path="clinicalStatus" scope="C" xsi:type="Property"/>
                                </operand>
                                <operand localId="35" valueType="t:String" value="active" xsi:type="Literal"/>
                            </operand>
                            <operand localId="41" xsi:type="Equal">
                                <operand localId="39" path="value" xsi:type="Property">
                                    <source localId="38" path="verificationStatus" scope="C" xsi:type="Property"/>
                                </operand>
                                <operand localId="40" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                            </operand>
                        </operand>
                        <operand localId="47" xsi:type="LessOrEqual">
                            <operand asType="t:DateTime" xsi:type="As">
                                <operand localId="45" path="value" xsi:type="Property">
                                    <source localId="44" path="onset" scope="C" xsi:type="Property"/>
                                </operand>
                                <asTypeSpecifier name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                            </operand>
                            <operand localId="46" xsi:type="Today"/>
                        </operand>
                    </operand>
                    <operand localId="53" xsi:type="Greater">
                        <operand asType="t:DateTime" xsi:type="As">
                            <operand localId="51" path="value" xsi:type="Property">
                                <source localId="50" path="abatement" scope="C" xsi:type="Property"/>
                            </operand>
                            <asTypeSpecifier name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                        </operand>
                        <operand localId="52" xsi:type="Today"/>
                    </operand>
                </where>
            </expression>
        </def>
        <def localId="65" name="Is Patient Pregnant" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="65">
                    <a:s>define &quot;Is Patient Pregnant&quot;:
                    </a:s>
                    <a:s r="64">
                        <a:s r="61">
                            <a:s r="59">
                                <a:s r="58">
                                    <a:s r="57">
                                        <a:s>Patient</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="58">
                                        <a:s>gender</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>.</a:s>
                                <a:s r="59">
                                    <a:s>value</a:s>
                                </a:s>
                            </a:s>
                            <a:s> = </a:s>
                            <a:s r="60">
                                <a:s>'female'</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            and </a:s>
                        <a:s r="63">
                            <a:s>exists </a:s>
                            <a:s r="62">
                                <a:s>(</a:s>
                                <a:s r="62">
                                    <a:s>&quot;Pregnancy Conditions&quot;</a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="64" xsi:type="And">
                <operand localId="61" xsi:type="Equal">
                    <operand localId="59" path="value" xsi:type="Property">
                        <source localId="58" path="gender" xsi:type="Property">
                            <source localId="57" name="Patient" xsi:type="ExpressionRef"/>
                        </source>
                    </operand>
                    <operand localId="60" valueType="t:String" value="female" xsi:type="Literal"/>
                </operand>
                <operand localId="63" xsi:type="Exists">
                    <operand localId="62" name="Pregnancy Conditions" xsi:type="ExpressionRef"/>
                </operand>
            </expression>
        </def>
        <def localId="68" name="Zika Exposure Assessment" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="68">
                    <a:s>define &quot;Zika Exposure Assessment&quot;:
                    </a:s>
                    <a:s r="67">
                        <a:s>Code 'Zika Virus Exposure Assessment' from </a:s>
                        <a:s r="66">
                            <a:s>&quot;Example Questionnaires&quot;</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="67" code="Zika Virus Exposure Assessment" xsi:type="Code">
                <system localId="66" name="Example Questionnaires"/>
            </expression>
        </def>
        <def localId="82" name="Zika Exposure Assessment Result" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="82">
                    <a:s>define &quot;Zika Exposure Assessment Result&quot;:
                    </a:s>
                    <a:s r="81">
                        <a:s>First(
                        </a:s>
                        <a:s r="80">
                            <a:s>
                                <a:s r="70">
                                    <a:s r="69">
                                        <a:s r="69">
                                            <a:s>[Observation: </a:s>
                                            <a:s>
                                                <a:s>&quot;Zika Exposure Assessment&quot;</a:s>
                                            </a:s>
                                            <a:s>]</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> O</a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                            </a:s>
                            <a:s r="75">
                                <a:s>where </a:s>
                                <a:s r="75">
                                    <a:s r="73">
                                        <a:s r="72">
                                            <a:s r="71">
                                                <a:s>O</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="72">
                                                <a:s>status</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="73">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="74">
                                        <a:s>'final'</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                // and O.&quot;context&quot;.reference.value = &quot;Current Encounter&quot;.id.value // TODO: fix
                            </a:s>
                            <a:s r="79">
                                <a:s>sort by </a:s>
                                <a:s r="78">
                                    <a:s r="77">
                                        <a:s r="76">
                                            <a:s>effective</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="77">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> desc</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            )</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="81" xsi:type="First">
                <source localId="80" xsi:type="Query">
                    <source localId="70" alias="O">
                        <expression localId="69" dataType="fhir:Observation" codeProperty="code" xsi:type="Retrieve">
                            <codes name="Zika Exposure Assessment" xsi:type="ExpressionRef"/>
                        </expression>
                    </source>
                    <where localId="75" xsi:type="Equal">
                        <operand localId="73" path="value" xsi:type="Property">
                            <source localId="72" path="status" scope="O" xsi:type="Property"/>
                        </operand>
                        <operand localId="74" valueType="t:String" value="final" xsi:type="Literal"/>
                    </where>
                    <sort localId="79">
                        <by localId="78" direction="desc" xsi:type="ByExpression">
                            <expression localId="77" path="value" xsi:type="Property">
                                <source localId="76" name="effective" xsi:type="IdentifierRef"/>
                            </expression>
                        </by>
                    </sort>
                </source>
            </expression>
        </def>
        <def localId="85" name="Has Zika Exposure Assessment" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="85">
                    <a:s>define &quot;Has Zika Exposure Assessment&quot;:
                    </a:s>
                    <a:s r="84">
                        <a:s r="83">
                            <a:s>&quot;Zika Exposure Assessment Result&quot;</a:s>
                        </a:s>
                        <a:s> is not null</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="84" xsi:type="Not">
                <operand xsi:type="IsNull">
                    <operand localId="83" name="Zika Exposure Assessment Result" xsi:type="ExpressionRef"/>
                </operand>
            </expression>
        </def>
        <def localId="100" name="Zika Symptoms" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="100">
                    <a:s>define &quot;Zika Symptoms&quot;:
                    </a:s>
                    <a:s r="99">
                        <a:s>
                            <a:s r="87">
                                <a:s r="86">
                                    <a:s r="86">
                                        <a:s>[Condition: </a:s>
                                        <a:s>
                                            <a:s>&quot;Zika Virus Signs and Symptoms&quot;</a:s>
                                        </a:s>
                                        <a:s>]</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> C</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                        </a:s>
                        <a:s r="98">
                            <a:s>where </a:s>
                            <a:s r="98">
                                <a:s r="92">
                                    <a:s r="90">
                                        <a:s r="89">
                                            <a:s r="88">
                                                <a:s>C</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="89">
                                                <a:s>clinicalStatus</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="90">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="91">
                                        <a:s>'active'</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    and </a:s>
                                <a:s r="97">
                                    <a:s r="95">
                                        <a:s r="94">
                                            <a:s r="93">
                                                <a:s>C</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="94">
                                                <a:s>verificationStatus</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="95">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> = </a:s>
                                    <a:s r="96">
                                        <a:s>'confirmed'</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="99" xsi:type="Query">
                <source localId="87" alias="C">
                    <expression localId="86" dataType="fhir:Condition" codeProperty="code" xsi:type="Retrieve">
                        <codes name="Zika Virus Signs and Symptoms" xsi:type="ValueSetRef"/>
                    </expression>
                </source>
                <where localId="98" xsi:type="And">
                    <operand localId="92" xsi:type="Equal">
                        <operand localId="90" path="value" xsi:type="Property">
                            <source localId="89" path="clinicalStatus" scope="C" xsi:type="Property"/>
                        </operand>
                        <operand localId="91" valueType="t:String" value="active" xsi:type="Literal"/>
                    </operand>
                    <operand localId="97" xsi:type="Equal">
                        <operand localId="95" path="value" xsi:type="Property">
                            <source localId="94" path="verificationStatus" scope="C" xsi:type="Property"/>
                        </operand>
                        <operand localId="96" valueType="t:String" value="confirmed" xsi:type="Literal"/>
                    </operand>
                </where>
            </expression>
        </def>
        <def localId="103" name="Has Zika Symptoms" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="103">
                    <a:s>define &quot;Has Zika Symptoms&quot;:
                    </a:s>
                    <a:s r="102">
                        <a:s>exists </a:s>
                        <a:s r="101">
                            <a:s>&quot;Zika Symptoms&quot;</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="102" xsi:type="Exists">
                <operand localId="101" name="Zika Symptoms" xsi:type="ExpressionRef"/>
            </expression>
        </def>
        <def localId="106" name="No Zika Symptoms" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="106">
                    <a:s>define &quot;No Zika Symptoms&quot;:
                    </a:s>
                    <a:s r="105">
                        <a:s>not </a:s>
                        <a:s r="104">
                            <a:s>&quot;Has Zika Symptoms&quot;</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="105" xsi:type="Not">
                <operand localId="104" name="Has Zika Symptoms" xsi:type="ExpressionRef"/>
            </expression>
        </def>
        <def localId="109" name="Yes" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="109">
                    <a:s>define &quot;Yes&quot;: </a:s>
                    <a:s r="108">
                        <a:s>{ </a:s>
                        <a:s r="107">
                            <a:s>'Yes'</a:s>
                        </a:s>
                        <a:s> }</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="108" xsi:type="List">
                <element localId="107" valueType="t:String" value="Yes" xsi:type="Literal"/>
            </expression>
        </def>
        <def localId="131" name="CodingToCode" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
            <annotation xsi:type="a:Annotation">
                <a:s r="131">
                    <a:s>define function CodingToCode(coding </a:s>
                    <a:s r="117">
                        <a:s>FHIR.Coding</a:s>
                    </a:s>
                    <a:s>):
                    </a:s>
                    <a:s r="130">
                        <a:s r="130">
                            <a:s>System.Code {
                            </a:s>
                            <a:s>
                                <a:s>code: </a:s>
                                <a:s r="120">
                                    <a:s r="119">
                                        <a:s r="118">
                                            <a:s>coding</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="119">
                                            <a:s>code</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="120">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>,
                            </a:s>
                            <a:s>
                                <a:s>system: </a:s>
                                <a:s r="123">
                                    <a:s r="122">
                                        <a:s r="121">
                                            <a:s>coding</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="122">
                                            <a:s>system</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="123">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>,
                            </a:s>
                            <a:s>
                                <a:s>version: </a:s>
                                <a:s r="126">
                                    <a:s r="125">
                                        <a:s r="124">
                                            <a:s>coding</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="125">
                                            <a:s>version</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="126">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>,
                            </a:s>
                            <a:s>
                                <a:s>display: </a:s>
                                <a:s r="129">
                                    <a:s r="128">
                                        <a:s r="127">
                                            <a:s>coding</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="128">
                                            <a:s>display</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="129">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                }</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="130" classType="t:Code" xsi:type="Instance">
                <element name="code">
                    <value localId="120" path="value" xsi:type="Property">
                        <source localId="119" path="code" xsi:type="Property">
                            <source localId="118" name="coding" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
                <element name="system">
                    <value localId="123" path="value" xsi:type="Property">
                        <source localId="122" path="system" xsi:type="Property">
                            <source localId="121" name="coding" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
                <element name="version">
                    <value localId="126" path="value" xsi:type="Property">
                        <source localId="125" path="version" xsi:type="Property">
                            <source localId="124" name="coding" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
                <element name="display">
                    <value localId="129" path="value" xsi:type="Property">
                        <source localId="128" path="display" xsi:type="Property">
                            <source localId="127" name="coding" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
            </expression>
            <operand name="coding">
                <operandTypeSpecifier localId="117" name="fhir:Coding" xsi:type="NamedTypeSpecifier"/>
            </operand>
        </def>
        <def localId="143" name="Resident of or Frequent Traveler to Zika Area" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="143">
                    <a:s>define &quot;Resident of or Frequent Traveler to Zika Area&quot;:
                    </a:s>
                    <a:s r="142">
                        <a:s>exists </a:s>
                        <a:s r="141">
                            <a:s>(
                            </a:s>
                            <a:s r="141">
                                <a:s>
                                    <a:s r="111">
                                        <a:s r="110">
                                            <a:s>
                                                <a:s>&quot;Zika Exposure Assessment Result&quot;.component</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> C</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                    // TODO: Need to streamline, this ought to have worked, not sure why it didn't (without the coding[0] access)
                                </a:s>
                                <a:s r="140">
                                    <a:s>where </a:s>
                                    <a:s r="140">
                                        <a:s r="134">
                                            <a:s r="132">
                                                <a:s>CodingToCode(</a:s>
                                                <a:s r="116">
                                                    <a:s r="114">
                                                        <a:s r="113">
                                                            <a:s r="112">
                                                                <a:s>C</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="113">
                                                                <a:s>code</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="114">
                                                            <a:s>coding</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>[0]</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> = </a:s>
                                            <a:s r="133">
                                                <a:s>&quot;CDE: Resident of or Frequent Traveler to Zika Area&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            and </a:s>
                                        <a:s r="139">
                                            <a:s r="137">
                                                <a:s r="136">
                                                    <a:s r="135">
                                                        <a:s>C</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="136">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="137">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> in </a:s>
                                            <a:s r="138">
                                                <a:s>&quot;Yes&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="142" xsi:type="Exists">
                <operand localId="141" xsi:type="Query">
                    <source localId="111" alias="C">
                        <expression localId="110" path="component" xsi:type="Property">
                            <source name="Zika Exposure Assessment Result" xsi:type="ExpressionRef"/>
                        </expression>
                    </source>
                    <where localId="140" xsi:type="And">
                        <operand localId="134" xsi:type="Equal">
                            <operand localId="132" name="CodingToCode" xsi:type="FunctionRef">
                                <operand localId="116" xsi:type="Indexer">
                                    <operand localId="114" path="coding" xsi:type="Property">
                                        <source localId="113" path="code" scope="C" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="115" valueType="t:Integer" value="0" xsi:type="Literal"/>
                                </operand>
                            </operand>
                            <operand localId="133" name="CDE: Resident of or Frequent Traveler to Zika Area" xsi:type="CodeRef"/>
                        </operand>
                        <operand localId="139" xsi:type="In">
                            <operand asType="t:String" xsi:type="As">
                                <operand localId="137" path="value" xsi:type="Property">
                                    <source localId="136" path="value" scope="C" xsi:type="Property"/>
                                </operand>
                                <asTypeSpecifier name="t:String" xsi:type="NamedTypeSpecifier"/>
                            </operand>
                            <operand localId="138" name="Yes" xsi:type="ExpressionRef"/>
                        </operand>
                    </where>
                </operand>
            </expression>
        </def>
        <def localId="162" name="Recent Travel to Zika Area" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="162">
                    <a:s>define &quot;Recent Travel to Zika Area&quot;:
                    </a:s>
                    <a:s r="161">
                        <a:s>exists </a:s>
                        <a:s r="160">
                            <a:s>(
                            </a:s>
                            <a:s r="160">
                                <a:s>
                                    <a:s r="145">
                                        <a:s r="144">
                                            <a:s>
                                                <a:s>&quot;Zika Exposure Assessment Result&quot;.component</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> C</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="159">
                                    <a:s>where </a:s>
                                    <a:s r="159">
                                        <a:s r="153">
                                            <a:s r="151">
                                                <a:s>CodingToCode(</a:s>
                                                <a:s r="150">
                                                    <a:s r="148">
                                                        <a:s r="147">
                                                            <a:s r="146">
                                                                <a:s>C</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="147">
                                                                <a:s>code</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="148">
                                                            <a:s>coding</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>[0]</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> = </a:s>
                                            <a:s r="152">
                                                <a:s>&quot;CDE: Recent Travel to Zika Area&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            and </a:s>
                                        <a:s r="158">
                                            <a:s r="156">
                                                <a:s r="155">
                                                    <a:s r="154">
                                                        <a:s>C</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="155">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="156">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> in </a:s>
                                            <a:s r="157">
                                                <a:s>&quot;Yes&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="161" xsi:type="Exists">
                <operand localId="160" xsi:type="Query">
                    <source localId="145" alias="C">
                        <expression localId="144" path="component" xsi:type="Property">
                            <source name="Zika Exposure Assessment Result" xsi:type="ExpressionRef"/>
                        </expression>
                    </source>
                    <where localId="159" xsi:type="And">
                        <operand localId="153" xsi:type="Equal">
                            <operand localId="151" name="CodingToCode" xsi:type="FunctionRef">
                                <operand localId="150" xsi:type="Indexer">
                                    <operand localId="148" path="coding" xsi:type="Property">
                                        <source localId="147" path="code" scope="C" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="149" valueType="t:Integer" value="0" xsi:type="Literal"/>
                                </operand>
                            </operand>
                            <operand localId="152" name="CDE: Recent Travel to Zika Area" xsi:type="CodeRef"/>
                        </operand>
                        <operand localId="158" xsi:type="In">
                            <operand asType="t:String" xsi:type="As">
                                <operand localId="156" path="value" xsi:type="Property">
                                    <source localId="155" path="value" scope="C" xsi:type="Property"/>
                                </operand>
                                <asTypeSpecifier name="t:String" xsi:type="NamedTypeSpecifier"/>
                            </operand>
                            <operand localId="157" name="Yes" xsi:type="ExpressionRef"/>
                        </operand>
                    </where>
                </operand>
            </expression>
        </def>
        <def localId="180" name="Time Since Returned From Travel" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="180">
                    <a:s>define &quot;Time Since Returned From Travel&quot;:
                    </a:s>
                    <a:s r="179">
                        <a:s>singleton from </a:s>
                        <a:s r="178">
                            <a:s>(
                            </a:s>
                            <a:s r="178">
                                <a:s>
                                    <a:s r="164">
                                        <a:s r="163">
                                            <a:s>
                                                <a:s>&quot;Zika Exposure Assessment Result&quot;.component</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> C</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="172">
                                    <a:s>where </a:s>
                                    <a:s r="172">
                                        <a:s r="170">
                                            <a:s>CodingToCode(</a:s>
                                            <a:s r="169">
                                                <a:s r="167">
                                                    <a:s r="166">
                                                        <a:s r="165">
                                                            <a:s>C</a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="166">
                                                            <a:s>code</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="167">
                                                        <a:s>coding</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>[0]</a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> = </a:s>
                                        <a:s r="171">
                                            <a:s>&quot;CDE: Time Since Returned From Travel&quot;</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="177">
                                    <a:s>return </a:s>
                                    <a:s r="176">
                                        <a:s r="174">
                                            <a:s r="173">
                                                <a:s>C</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="174">
                                                <a:s>value</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> as </a:s>
                                        <a:s r="175">
                                            <a:s>Quantity</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="179" xsi:type="SingletonFrom">
                <operand localId="178" xsi:type="Query">
                    <source localId="164" alias="C">
                        <expression localId="163" path="component" xsi:type="Property">
                            <source name="Zika Exposure Assessment Result" xsi:type="ExpressionRef"/>
                        </expression>
                    </source>
                    <where localId="172" xsi:type="Equal">
                        <operand localId="170" name="CodingToCode" xsi:type="FunctionRef">
                            <operand localId="169" xsi:type="Indexer">
                                <operand localId="167" path="coding" xsi:type="Property">
                                    <source localId="166" path="code" scope="C" xsi:type="Property"/>
                                </operand>
                                <operand localId="168" valueType="t:Integer" value="0" xsi:type="Literal"/>
                            </operand>
                        </operand>
                        <operand localId="171" name="CDE: Time Since Returned From Travel" xsi:type="CodeRef"/>
                    </where>
                    <return localId="177">
                        <expression localId="176" strict="false" xsi:type="As">
                            <operand localId="174" path="value" scope="C" xsi:type="Property"/>
                            <asTypeSpecifier localId="175" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                    </return>
                </operand>
            </expression>
        </def>
        <def localId="199" name="Recent Sexual Encounter With Traveler to Zika Area" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="199">
                    <a:s>define &quot;Recent Sexual Encounter With Traveler to Zika Area&quot;:
                    </a:s>
                    <a:s r="198">
                        <a:s>exists </a:s>
                        <a:s r="197">
                            <a:s>(
                            </a:s>
                            <a:s r="197">
                                <a:s>
                                    <a:s r="182">
                                        <a:s r="181">
                                            <a:s>
                                                <a:s>&quot;Zika Exposure Assessment Result&quot;.component</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> C</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="196">
                                    <a:s>where </a:s>
                                    <a:s r="196">
                                        <a:s r="190">
                                            <a:s r="188">
                                                <a:s>CodingToCode(</a:s>
                                                <a:s r="187">
                                                    <a:s r="185">
                                                        <a:s r="184">
                                                            <a:s r="183">
                                                                <a:s>C</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="184">
                                                                <a:s>code</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="185">
                                                            <a:s>coding</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>[0]</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> = </a:s>
                                            <a:s r="189">
                                                <a:s>&quot;CDE: Recent Sexual Encounter With Traveler to Zika Area&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            and </a:s>
                                        <a:s r="195">
                                            <a:s r="193">
                                                <a:s r="192">
                                                    <a:s r="191">
                                                        <a:s>C</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="192">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="193">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> in </a:s>
                                            <a:s r="194">
                                                <a:s>&quot;Yes&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="198" xsi:type="Exists">
                <operand localId="197" xsi:type="Query">
                    <source localId="182" alias="C">
                        <expression localId="181" path="component" xsi:type="Property">
                            <source name="Zika Exposure Assessment Result" xsi:type="ExpressionRef"/>
                        </expression>
                    </source>
                    <where localId="196" xsi:type="And">
                        <operand localId="190" xsi:type="Equal">
                            <operand localId="188" name="CodingToCode" xsi:type="FunctionRef">
                                <operand localId="187" xsi:type="Indexer">
                                    <operand localId="185" path="coding" xsi:type="Property">
                                        <source localId="184" path="code" scope="C" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="186" valueType="t:Integer" value="0" xsi:type="Literal"/>
                                </operand>
                            </operand>
                            <operand localId="189" name="CDE: Recent Sexual Encounter With Traveler to Zika Area" xsi:type="CodeRef"/>
                        </operand>
                        <operand localId="195" xsi:type="In">
                            <operand asType="t:String" xsi:type="As">
                                <operand localId="193" path="value" xsi:type="Property">
                                    <source localId="192" path="value" scope="C" xsi:type="Property"/>
                                </operand>
                                <asTypeSpecifier name="t:String" xsi:type="NamedTypeSpecifier"/>
                            </operand>
                            <operand localId="194" name="Yes" xsi:type="ExpressionRef"/>
                        </operand>
                    </where>
                </operand>
            </expression>
        </def>
        <def localId="217" name="Time Since Sexual Encounter" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="217">
                    <a:s>define &quot;Time Since Sexual Encounter&quot;:
                    </a:s>
                    <a:s r="216">
                        <a:s>singleton from </a:s>
                        <a:s r="215">
                            <a:s>(
                            </a:s>
                            <a:s r="215">
                                <a:s>
                                    <a:s r="201">
                                        <a:s r="200">
                                            <a:s>
                                                <a:s>&quot;Zika Exposure Assessment Result&quot;.component</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> C</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="209">
                                    <a:s>where </a:s>
                                    <a:s r="209">
                                        <a:s r="207">
                                            <a:s>CodingToCode(</a:s>
                                            <a:s r="206">
                                                <a:s r="204">
                                                    <a:s r="203">
                                                        <a:s r="202">
                                                            <a:s>C</a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="203">
                                                            <a:s>code</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="204">
                                                        <a:s>coding</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>[0]</a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                        <a:s> = </a:s>
                                        <a:s r="208">
                                            <a:s>&quot;CDE: Time Since Sexual Encounter&quot;</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="214">
                                    <a:s>return </a:s>
                                    <a:s r="213">
                                        <a:s r="211">
                                            <a:s r="210">
                                                <a:s>C</a:s>
                                            </a:s>
                                            <a:s>.</a:s>
                                            <a:s r="211">
                                                <a:s>value</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> as </a:s>
                                        <a:s r="212">
                                            <a:s>Quantity</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="216" xsi:type="SingletonFrom">
                <operand localId="215" xsi:type="Query">
                    <source localId="201" alias="C">
                        <expression localId="200" path="component" xsi:type="Property">
                            <source name="Zika Exposure Assessment Result" xsi:type="ExpressionRef"/>
                        </expression>
                    </source>
                    <where localId="209" xsi:type="Equal">
                        <operand localId="207" name="CodingToCode" xsi:type="FunctionRef">
                            <operand localId="206" xsi:type="Indexer">
                                <operand localId="204" path="coding" xsi:type="Property">
                                    <source localId="203" path="code" scope="C" xsi:type="Property"/>
                                </operand>
                                <operand localId="205" valueType="t:Integer" value="0" xsi:type="Literal"/>
                            </operand>
                        </operand>
                        <operand localId="208" name="CDE: Time Since Sexual Encounter" xsi:type="CodeRef"/>
                    </where>
                    <return localId="214">
                        <expression localId="213" strict="false" xsi:type="As">
                            <operand localId="211" path="value" scope="C" xsi:type="Property"/>
                            <asTypeSpecifier localId="212" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
                        </expression>
                    </return>
                </operand>
            </expression>
        </def>
        <def localId="221" name="Time Since Possible Exposure" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="221">
                    <a:s>define &quot;Time Since Possible Exposure&quot;:
                    </a:s>
                    <a:s r="220">
                        <a:s>Coalesce(</a:s>
                        <a:s r="218">
                            <a:s>&quot;Time Since Returned From Travel&quot;</a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s r="219">
                            <a:s>&quot;Time Since Sexual Encounter&quot;</a:s>
                        </a:s>
                        <a:s>)</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="220" xsi:type="Coalesce">
                <operand localId="218" name="Time Since Returned From Travel" xsi:type="ExpressionRef"/>
                <operand localId="219" name="Time Since Sexual Encounter" xsi:type="ExpressionRef"/>
            </expression>
        </def>
        <def localId="240" name="Planned Travel to Zika Area" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="240">
                    <a:s>define &quot;Planned Travel to Zika Area&quot;:
                    </a:s>
                    <a:s r="239">
                        <a:s>exists </a:s>
                        <a:s r="238">
                            <a:s>(
                            </a:s>
                            <a:s r="238">
                                <a:s>
                                    <a:s r="223">
                                        <a:s r="222">
                                            <a:s>
                                                <a:s>&quot;Zika Exposure Assessment Result&quot;.component</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> C</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="237">
                                    <a:s>where </a:s>
                                    <a:s r="237">
                                        <a:s r="231">
                                            <a:s r="229">
                                                <a:s>CodingToCode(</a:s>
                                                <a:s r="228">
                                                    <a:s r="226">
                                                        <a:s r="225">
                                                            <a:s r="224">
                                                                <a:s>C</a:s>
                                                            </a:s>
                                                            <a:s>.</a:s>
                                                            <a:s r="225">
                                                                <a:s>code</a:s>
                                                            </a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="226">
                                                            <a:s>coding</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s>[0]</a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> = </a:s>
                                            <a:s r="230">
                                                <a:s>&quot;CDE: Planned Travel to Zika Area&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s>
                                            and </a:s>
                                        <a:s r="236">
                                            <a:s r="234">
                                                <a:s r="233">
                                                    <a:s r="232">
                                                        <a:s>C</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="233">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>.</a:s>
                                                <a:s r="234">
                                                    <a:s>value</a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> in </a:s>
                                            <a:s r="235">
                                                <a:s>&quot;Yes&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="239" xsi:type="Exists">
                <operand localId="238" xsi:type="Query">
                    <source localId="223" alias="C">
                        <expression localId="222" path="component" xsi:type="Property">
                            <source name="Zika Exposure Assessment Result" xsi:type="ExpressionRef"/>
                        </expression>
                    </source>
                    <where localId="237" xsi:type="And">
                        <operand localId="231" xsi:type="Equal">
                            <operand localId="229" name="CodingToCode" xsi:type="FunctionRef">
                                <operand localId="228" xsi:type="Indexer">
                                    <operand localId="226" path="coding" xsi:type="Property">
                                        <source localId="225" path="code" scope="C" xsi:type="Property"/>
                                    </operand>
                                    <operand localId="227" valueType="t:Integer" value="0" xsi:type="Literal"/>
                                </operand>
                            </operand>
                            <operand localId="230" name="CDE: Planned Travel to Zika Area" xsi:type="CodeRef"/>
                        </operand>
                        <operand localId="236" xsi:type="In">
                            <operand asType="t:String" xsi:type="As">
                                <operand localId="234" path="value" xsi:type="Property">
                                    <source localId="233" path="value" scope="C" xsi:type="Property"/>
                                </operand>
                                <asTypeSpecifier name="t:String" xsi:type="NamedTypeSpecifier"/>
                            </operand>
                            <operand localId="235" name="Yes" xsi:type="ExpressionRef"/>
                        </operand>
                    </where>
                </operand>
            </expression>
        </def>
        <def localId="246" name="Has Possible Zika Exposure" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="246">
                    <a:s>define &quot;Has Possible Zika Exposure&quot;:
                    </a:s>
                    <a:s r="245">
                        <a:s r="243">
                            <a:s r="241">
                                <a:s>&quot;Resident of or Frequent Traveler to Zika Area&quot;</a:s>
                            </a:s>
                            <a:s>
                                or </a:s>
                            <a:s r="242">
                                <a:s>&quot;Recent Travel to Zika Area&quot;</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            or </a:s>
                        <a:s r="244">
                            <a:s>&quot;Recent Sexual Encounter With Traveler to Zika Area&quot;</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="245" xsi:type="Or">
                <operand localId="243" xsi:type="Or">
                    <operand localId="241" name="Resident of or Frequent Traveler to Zika Area" xsi:type="ExpressionRef"/>
                    <operand localId="242" name="Recent Travel to Zika Area" xsi:type="ExpressionRef"/>
                </operand>
                <operand localId="244" name="Recent Sexual Encounter With Traveler to Zika Area" xsi:type="ExpressionRef"/>
            </expression>
        </def>
        <def localId="265" name="Zika Symptom Onset" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="265">
                    <a:s>define &quot;Zika Symptom Onset&quot;:
                    </a:s>
                    <a:s r="264">
                        <a:s r="263">
                            <a:s>First(
                            </a:s>
                            <a:s r="262">
                                <a:s>
                                    <a:s r="248">
                                        <a:s r="247">
                                            <a:s>
                                                <a:s>&quot;Zika Symptoms&quot;</a:s>
                                            </a:s>
                                        </a:s>
                                        <a:s> S</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>
                                </a:s>
                                <a:s r="261">
                                    <a:s>sort by </a:s>
                                    <a:s r="260">
                                        <a:s r="259">
                                            <a:s>case </a:s>
                                            <a:s r="255">
                                                <a:s>when </a:s>
                                                <a:s r="252">
                                                    <a:s r="250">
                                                        <a:s r="249">
                                                            <a:s>onset</a:s>
                                                        </a:s>
                                                        <a:s>.</a:s>
                                                        <a:s r="250">
                                                            <a:s>value</a:s>
                                                        </a:s>
                                                    </a:s>
                                                    <a:s> is </a:s>
                                                    <a:s r="251">
                                                        <a:s>DateTime</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s> then </a:s>
                                                <a:s r="254">
                                                    <a:s r="253">
                                                        <a:s>onset</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="254">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                            </a:s>
                                            <a:s> else </a:s>
                                            <a:s r="258">
                                                <a:s>ToDateTime(</a:s>
                                                <a:s r="257">
                                                    <a:s r="256">
                                                        <a:s>onset</a:s>
                                                    </a:s>
                                                    <a:s>.</a:s>
                                                    <a:s r="257">
                                                        <a:s>value</a:s>
                                                    </a:s>
                                                </a:s>
                                                <a:s>)</a:s>
                                            </a:s>
                                            <a:s> end</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                )</a:s>
                        </a:s>
                        <a:s>.</a:s>
                        <a:s r="264">
                            <a:s>onset</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="264" path="onset" xsi:type="Property">
                <source localId="263" xsi:type="First">
                    <source localId="262" xsi:type="Query">
                        <source localId="248" alias="S">
                            <expression localId="247" name="Zika Symptoms" xsi:type="ExpressionRef"/>
                        </source>
                        <sort localId="261">
                            <by localId="260" direction="asc" xsi:type="ByExpression">
                                <expression localId="259" xsi:type="Case">
                                    <caseItem localId="255">
                                        <when localId="252" xsi:type="Is">
                                            <operand localId="250" path="value" xsi:type="Property">
                                                <source localId="249" name="onset" xsi:type="IdentifierRef"/>
                                            </operand>
                                            <isTypeSpecifier localId="251" name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                        </when>
                                        <then asType="t:DateTime" xsi:type="As">
                                            <operand localId="254" path="value" xsi:type="Property">
                                                <source localId="253" name="onset" xsi:type="IdentifierRef"/>
                                            </operand>
                                            <asTypeSpecifier name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                                        </then>
                                    </caseItem>
                                    <else localId="258" xsi:type="ToDateTime">
                                        <operand asType="t:String" xsi:type="As">
                                            <operand localId="257" path="value" xsi:type="Property">
                                                <source localId="256" name="onset" xsi:type="IdentifierRef"/>
                                            </operand>
                                            <asTypeSpecifier name="t:String" xsi:type="NamedTypeSpecifier"/>
                                        </operand>
                                    </else>
                                </expression>
                            </by>
                        </sort>
                    </source>
                </source>
            </expression>
        </def>
        <def localId="272" name="Time Since Symptom Onset" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="272">
                    <a:s>define &quot;Time Since Symptom Onset&quot;:
                    </a:s>
                    <a:s r="271">
                        <a:s>System.Quantity { </a:s>
                        <a:s>
                            <a:s>value: </a:s>
                            <a:s r="269">
                                <a:s>weeks between </a:s>
                                <a:s r="267">
                                    <a:s r="266">
                                        <a:s>&quot;Zika Symptom Onset&quot;</a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="267">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> and </a:s>
                                <a:s r="268">
                                    <a:s>Today()</a:s>
                                </a:s>
                            </a:s>
                        </a:s>
                        <a:s>, </a:s>
                        <a:s>
                            <a:s>unit: </a:s>
                            <a:s r="270">
                                <a:s>'wk'</a:s>
                            </a:s>
                        </a:s>
                        <a:s> }</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="271" classType="t:Quantity" xsi:type="Instance">
                <element name="value">
                    <value xsi:type="ToDecimal">
                        <operand localId="269" precision="Week" xsi:type="DurationBetween">
                            <operand asType="t:DateTime" xsi:type="As">
                                <operand localId="267" path="value" xsi:type="Property">
                                    <source localId="266" name="Zika Symptom Onset" xsi:type="ExpressionRef"/>
                                </operand>
                                <asTypeSpecifier name="t:DateTime" xsi:type="NamedTypeSpecifier"/>
                            </operand>
                            <operand localId="268" xsi:type="Today"/>
                        </operand>
                    </value>
                </element>
                <element name="unit">
                    <value localId="270" valueType="t:String" value="wk" xsi:type="Literal"/>
                </element>
            </expression>
        </def>
        <def localId="275" name="Should Administer Zika Virus Exposure Assessment" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="275">
                    <a:s>define &quot;Should Administer Zika Virus Exposure Assessment&quot;:
                    </a:s>
                    <a:s r="274">
                        <a:s>not </a:s>
                        <a:s r="273">
                            <a:s>(</a:s>
                            <a:s r="273">
                                <a:s>&quot;Has Zika Exposure Assessment&quot;</a:s>
                            </a:s>
                            <a:s>)</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="274" xsi:type="Not">
                <operand localId="273" name="Has Zika Exposure Assessment" xsi:type="ExpressionRef"/>
            </expression>
        </def>
        <def localId="293" name="ToQuantity" context="Patient" accessLevel="Public" xsi:type="FunctionDef">
            <annotation xsi:type="a:Annotation">
                <a:s r="293">
                    <a:s>define function ToQuantity(quantity </a:s>
                    <a:s r="285">
                        <a:s>FHIR.Quantity</a:s>
                    </a:s>
                    <a:s>):
                    </a:s>
                    <a:s r="292">
                        <a:s r="292">
                            <a:s>System.Quantity {
                            </a:s>
                            <a:s>
                                <a:s>value: </a:s>
                                <a:s r="288">
                                    <a:s r="287">
                                        <a:s r="286">
                                            <a:s>quantity</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="287">
                                            <a:s>value</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="288">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>,
                            </a:s>
                            <a:s>
                                <a:s>unit: </a:s>
                                <a:s r="291">
                                    <a:s r="290">
                                        <a:s r="289">
                                            <a:s>quantity</a:s>
                                        </a:s>
                                        <a:s>.</a:s>
                                        <a:s r="290">
                                            <a:s>unit</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s>.</a:s>
                                    <a:s r="291">
                                        <a:s>value</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>
                                }</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="292" classType="t:Quantity" xsi:type="Instance">
                <element name="value">
                    <value localId="288" path="value" xsi:type="Property">
                        <source localId="287" path="value" xsi:type="Property">
                            <source localId="286" name="quantity" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
                <element name="unit">
                    <value localId="291" path="value" xsi:type="Property">
                        <source localId="290" path="unit" xsi:type="Property">
                            <source localId="289" name="quantity" xsi:type="OperandRef"/>
                        </source>
                    </value>
                </element>
            </expression>
            <operand name="quantity">
                <operandTypeSpecifier localId="285" name="fhir:Quantity" xsi:type="NamedTypeSpecifier"/>
            </operand>
        </def>
        <def localId="299" name="Should Order Serum + Urine rRT-PCR Test" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="299">
                    <a:s>define &quot;Should Order Serum + Urine rRT-PCR Test&quot;:
                    </a:s>
                    <a:s r="298">
                        <a:s r="282">
                            <a:s>(</a:s>
                            <a:s r="282">
                                <a:s r="278">
                                    <a:s r="276">
                                        <a:s>&quot;Has Possible Zika Exposure&quot;</a:s>
                                    </a:s>
                                    <a:s> and </a:s>
                                    <a:s r="277">
                                        <a:s>&quot;Has Zika Symptoms&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> and </a:s>
                                <a:s r="281">
                                    <a:s r="279">
                                        <a:s>&quot;Time Since Symptom Onset&quot;</a:s>
                                    </a:s>
                                    <a:s> &lt; </a:s>
                                    <a:s r="280">
                                        <a:s>2 weeks</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>)</a:s>
                        </a:s>
                        <a:s>
                            or </a:s>
                        <a:s r="297">
                            <a:s>(</a:s>
                            <a:s r="297">
                                <a:s r="283">
                                    <a:s>&quot;No Zika Symptoms&quot;</a:s>
                                </a:s>
                                <a:s> and </a:s>
                                <a:s r="296">
                                    <a:s r="294">
                                        <a:s>ToQuantity(</a:s>
                                        <a:s r="284">
                                            <a:s>&quot;Time Since Possible Exposure&quot;</a:s>
                                        </a:s>
                                        <a:s>)</a:s>
                                    </a:s>
                                    <a:s> &lt; </a:s>
                                    <a:s r="295">
                                        <a:s>2 weeks</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>)</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="298" xsi:type="Or">
                <operand localId="282" xsi:type="And">
                    <operand localId="278" xsi:type="And">
                        <operand localId="276" name="Has Possible Zika Exposure" xsi:type="ExpressionRef"/>
                        <operand localId="277" name="Has Zika Symptoms" xsi:type="ExpressionRef"/>
                    </operand>
                    <operand localId="281" xsi:type="Less">
                        <operand localId="279" name="Time Since Symptom Onset" xsi:type="ExpressionRef"/>
                        <operand localId="280" value="2" unit="weeks" xsi:type="Quantity"/>
                    </operand>
                </operand>
                <operand localId="297" xsi:type="And">
                    <operand localId="283" name="No Zika Symptoms" xsi:type="ExpressionRef"/>
                    <operand localId="296" xsi:type="Less">
                        <operand localId="294" name="ToQuantity" xsi:type="FunctionRef">
                            <operand localId="284" name="Time Since Possible Exposure" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="295" value="2" unit="weeks" xsi:type="Quantity"/>
                    </operand>
                </operand>
            </expression>
        </def>
        <def localId="322" name="Should Order Serum Zika Virus IgM + Dengue Virus IgM" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="322">
                    <a:s>define &quot;Should Order Serum Zika Virus IgM + Dengue Virus IgM&quot;:
                    </a:s>
                    <a:s r="321">
                        <a:s r="312">
                            <a:s r="308">
                                <a:s>(</a:s>
                                <a:s r="308">
                                    <a:s r="302">
                                        <a:s r="300">
                                            <a:s>&quot;Has Possible Zika Exposure&quot;</a:s>
                                        </a:s>
                                        <a:s> and </a:s>
                                        <a:s r="301">
                                            <a:s>&quot;Has Zika Symptoms&quot;</a:s>
                                        </a:s>
                                    </a:s>
                                    <a:s> and </a:s>
                                    <a:s r="307">
                                        <a:s r="303">
                                            <a:s>&quot;Time Since Symptom Onset&quot;</a:s>
                                        </a:s>
                                        <a:s> in </a:s>
                                        <a:s r="306">
                                            <a:s>Interval[</a:s>
                                            <a:s r="304">
                                                <a:s>2 weeks</a:s>
                                            </a:s>
                                            <a:s>, </a:s>
                                            <a:s r="305">
                                                <a:s>12 weeks</a:s>
                                            </a:s>
                                            <a:s>)</a:s>
                                        </a:s>
                                    </a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                            <a:s>
                                or </a:s>
                            <a:s r="311">
                                <a:s>(</a:s>
                                <a:s r="311">
                                    <a:s r="309">
                                        <a:s>&quot;Resident of or Frequent Traveler to Zika Area&quot;</a:s>
                                    </a:s>
                                    <a:s> and </a:s>
                                    <a:s r="310">
                                        <a:s>&quot;No Zika Symptoms&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s>)</a:s>
                            </a:s>
                        </a:s>
                        <a:s>
                            or </a:s>
                        <a:s r="320">
                            <a:s>(</a:s>
                            <a:s r="320">
                                <a:s r="313">
                                    <a:s>&quot;No Zika Symptoms&quot;</a:s>
                                </a:s>
                                <a:s> and </a:s>
                                <a:s r="319">
                                    <a:s r="315">
                                        <a:s>ToQuantity(</a:s>
                                        <a:s r="314">
                                            <a:s>&quot;Time Since Possible Exposure&quot;</a:s>
                                        </a:s>
                                        <a:s>)</a:s>
                                    </a:s>
                                    <a:s> in </a:s>
                                    <a:s r="318">
                                        <a:s>Interval[</a:s>
                                        <a:s r="316">
                                            <a:s>2 weeks</a:s>
                                        </a:s>
                                        <a:s>, </a:s>
                                        <a:s r="317">
                                            <a:s>12 weeks</a:s>
                                        </a:s>
                                        <a:s>)</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>)</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="321" xsi:type="Or">
                <operand localId="312" xsi:type="Or">
                    <operand localId="308" xsi:type="And">
                        <operand localId="302" xsi:type="And">
                            <operand localId="300" name="Has Possible Zika Exposure" xsi:type="ExpressionRef"/>
                            <operand localId="301" name="Has Zika Symptoms" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="307" xsi:type="In">
                            <operand localId="303" name="Time Since Symptom Onset" xsi:type="ExpressionRef"/>
                            <operand localId="306" lowClosed="true" highClosed="false" xsi:type="Interval">
                                <low localId="304" value="2" unit="weeks" xsi:type="Quantity"/>
                                <high localId="305" value="12" unit="weeks" xsi:type="Quantity"/>
                            </operand>
                        </operand>
                    </operand>
                    <operand localId="311" xsi:type="And">
                        <operand localId="309" name="Resident of or Frequent Traveler to Zika Area" xsi:type="ExpressionRef"/>
                        <operand localId="310" name="No Zika Symptoms" xsi:type="ExpressionRef"/>
                    </operand>
                </operand>
                <operand localId="320" xsi:type="And">
                    <operand localId="313" name="No Zika Symptoms" xsi:type="ExpressionRef"/>
                    <operand localId="319" xsi:type="In">
                        <operand localId="315" name="ToQuantity" xsi:type="FunctionRef">
                            <operand localId="314" name="Time Since Possible Exposure" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="318" lowClosed="true" highClosed="false" xsi:type="Interval">
                            <low localId="316" value="2" unit="weeks" xsi:type="Quantity"/>
                            <high localId="317" value="12" unit="weeks" xsi:type="Quantity"/>
                        </operand>
                    </operand>
                </operand>
            </expression>
        </def>
        <def localId="337" name="Should Consider IgM Antibody Testing" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="337">
                    <a:s>define &quot;Should Consider IgM Antibody Testing&quot;:
                    </a:s>
                    <a:s r="336">
                        <a:s r="329">
                            <a:s>(</a:s>
                            <a:s r="329">
                                <a:s r="325">
                                    <a:s r="323">
                                        <a:s>&quot;Has Possible Zika Exposure&quot;</a:s>
                                    </a:s>
                                    <a:s> and </a:s>
                                    <a:s r="324">
                                        <a:s>&quot;Has Zika Symptoms&quot;</a:s>
                                    </a:s>
                                </a:s>
                                <a:s> and </a:s>
                                <a:s r="328">
                                    <a:s r="326">
                                        <a:s>&quot;Time Since Symptom Onset&quot;</a:s>
                                    </a:s>
                                    <a:s> >= </a:s>
                                    <a:s r="327">
                                        <a:s>12 weeks</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>)</a:s>
                        </a:s>
                        <a:s>
                            or </a:s>
                        <a:s r="335">
                            <a:s>(</a:s>
                            <a:s r="335">
                                <a:s r="330">
                                    <a:s>&quot;No Zika Symptoms&quot;</a:s>
                                </a:s>
                                <a:s> and </a:s>
                                <a:s r="334">
                                    <a:s r="332">
                                        <a:s>ToQuantity(</a:s>
                                        <a:s r="331">
                                            <a:s>&quot;Time Since Possible Exposure&quot;</a:s>
                                        </a:s>
                                        <a:s>)</a:s>
                                    </a:s>
                                    <a:s> >= </a:s>
                                    <a:s r="333">
                                        <a:s>12 weeks</a:s>
                                    </a:s>
                                </a:s>
                            </a:s>
                            <a:s>)</a:s>
                        </a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="336" xsi:type="Or">
                <operand localId="329" xsi:type="And">
                    <operand localId="325" xsi:type="And">
                        <operand localId="323" name="Has Possible Zika Exposure" xsi:type="ExpressionRef"/>
                        <operand localId="324" name="Has Zika Symptoms" xsi:type="ExpressionRef"/>
                    </operand>
                    <operand localId="328" xsi:type="GreaterOrEqual">
                        <operand localId="326" name="Time Since Symptom Onset" xsi:type="ExpressionRef"/>
                        <operand localId="327" value="12" unit="weeks" xsi:type="Quantity"/>
                    </operand>
                </operand>
                <operand localId="335" xsi:type="And">
                    <operand localId="330" name="No Zika Symptoms" xsi:type="ExpressionRef"/>
                    <operand localId="334" xsi:type="GreaterOrEqual">
                        <operand localId="332" name="ToQuantity" xsi:type="FunctionRef">
                            <operand localId="331" name="Time Since Possible Exposure" xsi:type="ExpressionRef"/>
                        </operand>
                        <operand localId="333" value="12" unit="weeks" xsi:type="Quantity"/>
                    </operand>
                </operand>
            </expression>
        </def>
        <def localId="339" name="Should Provide Mosquito Prevention and Contraception Advice" context="Patient" accessLevel="Public">
            <annotation xsi:type="a:Annotation">
                <a:s r="339">
                    <a:s>define &quot;Should Provide Mosquito Prevention and Contraception Advice&quot;:
                    </a:s>
                    <a:s r="338">
                        <a:s>&quot;Planned Travel to Zika Area&quot;</a:s>
                    </a:s>
                </a:s>
            </annotation>
            <expression localId="338" name="Planned Travel to Zika Area" xsi:type="ExpressionRef"/>
        </def>
    </statements>
</library>
